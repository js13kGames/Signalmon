!function(){const e=document.getElementById("canvas");e.width=__("#app").clientWidth,e.height=__("#app").clientHeight;const t=TC(e),n=new Events,i=new DrawService(n),a=new Game(n),o=(new Controls(n),new Microphone);n.emit("react",["heart","smile"]);const c=()=>{try{i.draw(t,a.state),o.hadSoundSpike()&&n.emit("sound"),setTimeout(()=>{requestAnimationFrame(c)},32)}catch(e){throw e}};a.init(),i.init(t).then(c)}();