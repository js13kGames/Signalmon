!function(){const e=document.getElementById("canvas");e.width=__("#app").clientWidth,e.height=__("#app").clientHeight;const t=TC(e),i=new Events,n=new DrawService(i),a=new Game(i),s=(new Controls(i),()=>{try{n.draw(t,a.state),n.drawMoodBars(t,a.state),n.drawWiflies(t,a.state.wiflies),n.drawWiflies(t,a.state.deadWiflies,!0),setTimeout(()=>{requestAnimationFrame(s)},32)}catch(e){console.error(e)}});a.init(),n.init(t).then(s)}();